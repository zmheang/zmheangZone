<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>

</body>
<script>
  console.log('hello world ~')
  const maxSubArray = function(nums) {
    let list = []
    let max = nums.length <= 0 ? -1 : nums[0]
    nums.forEach((ele, index) => {
      if(list.length === 0) {
        if(ele > 0) {
          if(nums[index + 1]) {
            if(nums[index + 1] + ele > 0) {
              list.push(ele)
              max = Math.max(max, ele)
            }
          }else {
            list.push(ele)
            max = Math.max(max, ele)
          }
        }else {
          max = Math.max(max, ele)
        }
      }else {
        if(ele > 0) {
          list.push(ele)
        }else {
          // 负数
          if(typeof nums[index + 1] === "undefined") {
            max = Math.max(max, list.reduce((acc, cur) => acc + cur, 0))
            list = []
          }else {
            if(nums[index + 1] + ele > 0) {
              list.push(ele)
            }else {
              max = Math.max(max, list.reduce((acc, cur) => acc + cur, 0))
              list = []
            }
          }
        }
      }
      console.log(list)
    })
    return max
  };
  // console.log(maxSubArray([-2, -1]));                                     // -1
  // console.log(maxSubArray([-2,1,-3,4,-1,2,1,-5,4]));                      // 6
  console.log(maxSubArray([1,2,-1,-2,2,1,-2,1,4,-5,4]));                  // 6
</script>
</html>
